CREATE TABLE run (
  build_id    BIGINT PRIMARY KEY,
  started     TIMESTAMPTZ,
  duration    INTEGER,
  repo        TEXT,
  branch      TEXT,
  sha         TEXT
);

CREATE TABLE test (
  id        BIGSERIAL PRIMARY KEY,
  run_id    BIGINT REFERENCES run(build_id) ON DELETE CASCADE,
  result    TEXT CHECK (result in ('pass', 'fail', 'flaky', 'skip')),
  name      TEXT,
  duration  INTEGER,
  started   TIMESTAMPTZ
);